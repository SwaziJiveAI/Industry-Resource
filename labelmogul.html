<!DOCTYPE html>
<html>
<head>
  <title>eSwatini Music Mogul</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; background: #f5f5f5; }
    .game-container { display: grid; grid-template-columns: 3fr 1fr; gap: 20px; }
    .main-panel { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .side-panel { display: flex; flex-direction: column; gap: 20px; }
    .info-box { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .decision-btn {
      margin: 5px; padding: 10px 15px;
      background: #4CAF50; color: white;
      border: none; border-radius: 4px;
      cursor: pointer;
    }
    .new-game-btn {
      margin: 10px; padding: 10px 15px;
      background: #FF5733; color: white;
      border: none; border-radius: 4px;
      cursor: pointer;
    }
    /* The log container holds game messages */
    #log-container {
      height: 150px; overflow-y: auto;
      padding: 10px; background: #1a1a1a;
      color: #00ff00; margin-bottom: 10px;
      border: 2px solid #333;
    }
    /* The scenario container shows the current decision prompt */
    #scenario-container {
      margin-bottom: 20px;
    }
    .status-bar {
      display: flex; justify-content: space-between;
      margin-bottom: 20px; padding: 10px;
      background: #333; color: white;
      border-radius: 4px;
    }
    .scroll-box { height: 300px; overflow-y: auto; padding: 10px; border: 1px solid #ddd; }
    .artist-card, .staff-card {
      border: 1px solid #ccc;
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 5px;
    }
    .scenario-box { margin-bottom: 15px; }
    .marketplace-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 15px;
      margin-top: 20px;
      padding: 10px;
      background: #f0f0f0;
      border-radius: 8px;
    }
    .marketplace-section {
      background: white;
      padding: 10px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .market-scroll {
      height: 150px;
      overflow-y: auto;
      padding: 5px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    .market-item {
      padding: 8px;
      margin: 5px 0;
      background: #f8f8f8;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .market-item:hover {
      background: #e8e8e8;
    }
    .reputation-level-basic { background: #FFE5E5 !important; }
    .reputation-level-rising { background: #FFEDCC !important; }
    .reputation-level-notable { background: #E5FFE5 !important; }
    .reputation-level-celebrated { background: #E5F0FF !important; }
    .reputation-level-legendary { background: #F2E5FF !important; }
  </style>
</head>
<body>
  <div class="status-bar">
      <div>üí∞ Cash: <span id="cash">E150,000</span></div>
      <div>üìÖ Day: <span id="day">1</span>/50</div>
      <div>üåü Reputation: <span id="reputation-points">0</span> (<span id="reputation-level">Basic</span>)</div>
  </div>

  <div class="game-container">
      <div class="main-panel">
          <!-- Log messages go here -->
          <div id="log-container">
              <div class="scenario-box">
                  ‚ñ∂Ô∏è Welcome to eSwatini Music Mogul!<br>
                  ‚ñ∂Ô∏è You are now officially the Swazi Jive Records President.<br>
                  ‚ñ∂Ô∏è Sakhile expects you to get the record label back to its celebrated status.<br>
                  ‚ñ∂Ô∏è You have 50 days to make your impression in the industry!<br>
                  ‚ñ∂Ô∏è Day 1: Start building your music empire!
              </div>
          </div>
          <!-- Current scenario prompt -->
          <div id="scenario-container"></div>
          <div class="marketplace-container">
              <div class="marketplace-section">
                  <h3>üé≠ Shows</h3>
                  <div id="shows-market" class="market-scroll"></div>
              </div>
              <div class="marketplace-section">
                  <h3>üìù Deals</h3>
                  <div id="deals-market" class="market-scroll"></div>
              </div>
              <div class="marketplace-section">
                  <h3>üé§ Artists Market</h3>
                  <div id="artists-market" class="market-scroll"></div>
              </div>
              <div class="marketplace-section">
                  <h3>üéõÔ∏è Equipment</h3>
                  <div id="equipment-market" class="market-scroll"></div>
              </div>
              <div class="marketplace-section">
                  <h3>üìö Training</h3>
                  <div id="training-market" class="market-scroll"></div>
              </div>
              <div class="marketplace-section">
                  <h3>üì£ Marketing</h3>
                  <div id="marketing-market" class="market-scroll"></div>
              </div>
          </div>
      </div>

      <div class="side-panel">
          <div class="info-box">
              <h3>üé§ Artists</h3>
              <div id="artist-roster" class="scroll-box"></div>
          </div>
          <div class="info-box">
              <h3>üì¶ Inventory</h3>
              <div id="inventory-list" class="scroll-box"></div>
          </div>
          <div class="info-box">
              <h3>üë• Staff</h3>
              <div id="staff-list" class="scroll-box"></div>
          </div>
      </div>
  </div>

  <script>
    let gameState;

    // List of 52 unique scenarios
    const allScenarios = [
      {
        question: "A social media influencer promotes your artist:",
        options: [
          { text: "Pay for the promotion (Cost E25k)", effect: () => { adjustArtistHappiness(5); adjustStaffMorale(0); adjustArtistPopularity(30); adjustReputation(10); return -25000; } },
          { text: "Stay independent (Safe E20k)", effect: () => { adjustArtistHappiness(5); adjustStaffMorale(5); adjustArtistPopularity(3); adjustReputation(5); return 20000; } },
          { text: "Do Nothing (Risk E10k)", effect: () => { adjustArtistHappiness(-10); adjustStaffMorale(-5); adjustArtistPopularity(-3); adjustReputation(-5); return -10000; } }
        ]
      },
      {
        question: "A rival label tries to poach your top artist:",
        options: [
          { text: "Counteroffer (Cost E80k)", effect: () => { adjustArtistHappiness(10); adjustStaffMorale(0); adjustArtistPopularity(10); adjustReputation(15); return -80000; } },
          { text: "Let them go (Gain E40k)", effect: () => { adjustArtistHappiness(-10); adjustStaffMorale(5); adjustArtistPopularity(-5); adjustReputation(-10); return 40000; } },
          { text: "Do Nothing (Risk Artist Leaving)", effect: () => { adjustArtistHappiness(-15); adjustStaffMorale(-10); adjustArtistPopularity(-20); adjustReputation(-20); return 0; } }
        ]
      },
      {
        question: "Your artist receives an unexpected invitation to perform at an exclusive event.",
        options: [
          { text: "Accept the invitation (Cost E30k)", effect: () => { adjustArtistPopularity(20); adjustReputation(10); return -30000; } },
          { text: "Decline politely", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Negotiate a higher fee", effect: () => { adjustArtistPopularity(10); adjustReputation(5); return -15000; } }
        ]
      },
      {
        question: "A renowned producer offers to collaborate with your artist.",
        options: [
          { text: "Accept the collaboration (Cost E50k)", effect: () => { adjustArtistPopularity(25); adjustReputation(15); return -50000; } },
          { text: "Negotiate better terms", effect: () => { adjustArtistPopularity(15); adjustReputation(10); return -30000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A scandal involving one of your artists surfaces in the media.",
        options: [
          { text: "Issue a public apology", effect: () => { adjustArtistHappiness(-10); adjustReputation(-5); return -10000; } },
          { text: "Ignore it", effect: () => { adjustReputation(-15); return 0; } },
          { text: "Spin it positively", effect: () => { adjustArtistHappiness(5); adjustReputation(10); return -5000; } }
        ]
      },
      {
        question: "Your artist's latest single goes viral overnight.",
        options: [
          { text: "Invest in promotion", effect: () => { adjustArtistPopularity(30); adjustReputation(20); return -40000; } },
          { text: "Remain cautious", effect: () => { adjustArtistPopularity(15); adjustReputation(10); return 10000; } },
          { text: "Release a follow-up track immediately", effect: () => { adjustArtistPopularity(10); adjustReputation(5); return -20000; } }
        ]
      },
      {
        question: "A famous celebrity expresses interest in endorsing your artist.",
        options: [
          { text: "Accept the endorsement", effect: () => { adjustReputation(20); adjustArtistPopularity(25); return -35000; } },
          { text: "Negotiate for a better deal", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Refuse the offer", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A major sponsor offers to fund a world tour for your artist.",
        options: [
          { text: "Accept the sponsorship", effect: () => { adjustReputation(25); adjustArtistPopularity(30); return -60000; } },
          { text: "Negotiate for better terms", effect: () => { adjustReputation(15); return -30000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A rival label is rumored to be making a tempting offer to one of your artists.",
        options: [
          { text: "Increase their contract offer", effect: () => { adjustArtistHappiness(10); adjustReputation(10); return -40000; } },
          { text: "Offer additional benefits", effect: () => { adjustArtistHappiness(15); adjustReputation(5); return -35000; } },
          { text: "Let them go", effect: () => { adjustReputation(-10); return 20000; } }
        ]
      },
      {
        question: "Your studio equipment gets upgraded unexpectedly by a benefactor.",
        options: [
          { text: "Upgrade your marketing strategy", effect: () => { adjustReputation(10); adjustArtistHappiness(5); return 0; } },
          { text: "Invest extra in training", effect: () => { adjustArtistPopularity(10); return -15000; } },
          { text: "Keep your current plans", effect: () => { return 0; } }
        ]
      },
      {
        question: "An influential music blogger writes a rave review about your artist.",
        options: [
          { text: "Capitalize on the publicity", effect: () => { adjustReputation(15); adjustArtistPopularity(20); return 10000; } },
          { text: "Downplay it", effect: () => { adjustReputation(5); return 0; } },
          { text: "Ignore the review", effect: () => { return 0; } }
        ]
      },
      {
        question: "A financial analyst predicts a downturn in the music industry.",
        options: [
          { text: "Cut costs immediately", effect: () => { adjustReputation(-5); return 20000; } },
          { text: "Invest cautiously", effect: () => { adjustReputation(5); return -5000; } },
          { text: "Double down on promotion", effect: () => { adjustReputation(10); adjustArtistPopularity(15); return -30000; } }
        ]
      },
      {
        question: "Your artist gets a chance to perform on national TV.",
        options: [
          { text: "Invest in the appearance", effect: () => { adjustArtistPopularity(25); adjustReputation(20); return -40000; } },
          { text: "Skip the opportunity", effect: () => { adjustReputation(-10); return 0; } },
          { text: "Prepare extensively then perform", effect: () => { adjustArtistPopularity(15); adjustReputation(10); return -25000; } }
        ]
      },
      {
        question: "A new streaming service offers a lucrative deal for your artist's music.",
        options: [
          { text: "Sign the deal", effect: () => { adjustReputation(15); return 20000; } },
          { text: "Negotiate terms", effect: () => { adjustReputation(10); return 10000; } },
          { text: "Wait for better offers", effect: () => { return 0; } }
        ]
      },
      {
        question: "A local charity event requests your artist to perform for free.",
        options: [
          { text: "Donate the performance", effect: () => { adjustReputation(10); return 0; } },
          { text: "Charge a reduced fee", effect: () => { adjustReputation(5); return 10000; } },
          { text: "Decline the request", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist's social media following is growing rapidly.",
        options: [
          { text: "Launch a targeted campaign", effect: () => { adjustArtistPopularity(20); return -15000; } },
          { text: "Invest in merchandise", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Do nothing", effect: () => { return 0; } }
        ]
      },
      {
        question: "A major music festival is seeking new acts.",
        options: [
          { text: "Enter the festival", effect: () => { adjustArtistPopularity(25); adjustReputation(15); return -35000; } },
          { text: "Skip it", effect: () => { return 0; } },
          { text: "Prepare a special performance", effect: () => { adjustArtistPopularity(15); return -20000; } }
        ]
      },
      {
        question: "Your artist is invited to an international music conference.",
        options: [
          { text: "Attend and network", effect: () => { adjustReputation(20); return -30000; } },
          { text: "Send a representative", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the invitation", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A new trend in music production emerges.",
        options: [
          { text: "Invest in new technology", effect: () => { adjustReputation(15); return -40000; } },
          { text: "Ignore the trend", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Try a small pilot project", effect: () => { adjustArtistPopularity(10); return -20000; } }
        ]
      },
      {
        question: "Your artist faces harsh criticism from a respected critic.",
        options: [
          { text: "Address the criticism publicly", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Ignore the criticism", effect: () => { adjustReputation(-10); return 0; } },
          { text: "Offer a counter-review", effect: () => { adjustReputation(10); return -5000; } }
        ]
      },
      {
        question: "A successful remix of your artist's song is released by an independent DJ.",
        options: [
          { text: "Promote the remix", effect: () => { adjustArtistPopularity(15); return 10000; } },
          { text: "Create an official remix", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Downplay it", effect: () => { return 0; } }
        ]
      },
      {
        question: "Your artist wins a local music award.",
        options: [
          { text: "Celebrate with a promotion event", effect: () => { adjustReputation(20); return -30000; } },
          { text: "Reinvest in training", effect: () => { adjustArtistPopularity(10); return -15000; } },
          { text: "Ignore the award", effect: () => { return 0; } }
        ]
      },
      {
        question: "A viral challenge featuring your artist's music takes off online.",
        options: [
          { text: "Launch a related marketing campaign", effect: () => { adjustReputation(15); return -25000; } },
          { text: "Partner with influencers", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Stay neutral", effect: () => { return 0; } }
        ]
      },
      {
        question: "A sudden drop in streaming numbers concerns your team.",
        options: [
          { text: "Investigate and adjust strategy", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Blame external factors", effect: () => { adjustReputation(-10); return 0; } },
          { text: "Ignore the drop", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist is approached for a brand partnership.",
        options: [
          { text: "Secure the partnership", effect: () => { adjustReputation(20); return -30000; } },
          { text: "Negotiate terms", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A technical glitch disrupts your live performance.",
        options: [
          { text: "Apologize and reschedule", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Offer refunds", effect: () => { adjustReputation(-5); return -5000; } },
          { text: "Blame technical issues", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A competitor releases a hit single that overshadows your artist.",
        options: [
          { text: "Release a new track immediately", effect: () => { adjustArtistPopularity(20); return -30000; } },
          { text: "Rebrand your artist", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Collaborate with another talent", effect: () => { adjustReputation(15); return -25000; } }
        ]
      },
      {
        question: "Your artist's merchandise sales skyrocket unexpectedly.",
        options: [
          { text: "Expand the merchandise line", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Reinvest profits", effect: () => { adjustReputation(5); return 5000; } },
          { text: "Keep the status quo", effect: () => { return 0; } }
        ]
      },
      {
        question: "A new music award show invites your artist to perform.",
        options: [
          { text: "Accept the invitation", effect: () => { adjustReputation(15); return -20000; } },
          { text: "Negotiate a performance fee", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the invitation", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A famous DJ requests a remix of your artist's song.",
        options: [
          { text: "Approve the remix", effect: () => { adjustArtistPopularity(15); return 10000; } },
          { text: "Negotiate a fee", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Decline the request", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A new trend in retro music emerges and your artist fits the style.",
        options: [
          { text: "Shift your artist's style", effect: () => { adjustArtistPopularity(20); return -25000; } },
          { text: "Launch a retro-themed event", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Ignore the trend", effect: () => { return 0; } }
        ]
      },
      {
        question: "Your artist's manager suggests a risky publicity stunt.",
        options: [
          { text: "Go ahead with the stunt", effect: () => { adjustReputation(15); return -30000; } },
          { text: "Modify the stunt", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Reject the idea", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A social media crisis emerges around one of your songs.",
        options: [
          { text: "Issue a statement", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Remove the song", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Ignore the crisis", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A breakthrough in audio technology is announced.",
        options: [
          { text: "Invest in the new technology", effect: () => { adjustReputation(15); return -30000; } },
          { text: "Wait and see", effect: () => { return 0; } },
          { text: "Stick with traditional methods", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A major brand wants to sponsor a new music video for your artist.",
        options: [
          { text: "Accept the sponsorship", effect: () => { adjustReputation(20); return -35000; } },
          { text: "Negotiate for better terms", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "Your artist gets featured in a popular magazine.",
        options: [
          { text: "Leverage the feature for more publicity", effect: () => { adjustReputation(15); return 10000; } },
          { text: "Host a meet-and-greet event", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Ignore the feature", effect: () => { return 0; } }
        ]
      },
      {
        question: "A famous producer offers a workshop for your team.",
        options: [
          { text: "Attend the workshop", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Send key staff members", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Skip the workshop", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist's tour faces unexpected delays.",
        options: [
          { text: "Offer compensation to fans", effect: () => { adjustReputation(-5); return -10000; } },
          { text: "Reschedule promptly", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Provide regular updates", effect: () => { adjustReputation(5); return -5000; } }
        ]
      },
      {
        question: "An international crisis impacts the music industry.",
        options: [
          { text: "Adjust your marketing strategy", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Cut costs", effect: () => { adjustReputation(-5); return 15000; } },
          { text: "Delay major projects", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A renowned music critic offers a mixed review of your artist.",
        options: [
          { text: "Respond constructively", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Ignore the review", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Launch a counter campaign", effect: () => { adjustReputation(10); return -15000; } }
        ]
      },
      {
        question: "Your artist's collaboration with a famous musician goes viral.",
        options: [
          { text: "Promote the collaboration", effect: () => { adjustArtistPopularity(20); return -25000; } },
          { text: "Negotiate a follow-up project", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Let it fade", effect: () => { return 0; } }
        ]
      },
      {
        question: "A surprise donation boosts your cash reserves.",
        options: [
          { text: "Invest in growth", effect: () => { adjustReputation(10); return 0; } },
          { text: "Save for a rainy day", effect: () => { return 0; } },
          { text: "Donate to charity", effect: () => { adjustReputation(-5); return -5000; } }
        ]
      },
      {
        question: "Your team discovers a hidden talent in the local scene.",
        options: [
          { text: "Sign the new talent immediately", effect: () => { adjustReputation(15); return -25000; } },
          { text: "Develop them slowly", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Pass on the opportunity", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A surge in ticket prices boosts revenue but risks alienating fans.",
        options: [
          { text: "Reevaluate your pricing strategy", effect: () => { adjustReputation(5); return 0; } },
          { text: "Invest in fan engagement", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Keep the prices unchanged", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "Your artist is nominated for an international award.",
        options: [
          { text: "Increase promotion", effect: () => { adjustReputation(15); return -20000; } },
          { text: "Invest in further training", effect: () => { adjustArtistPopularity(10); return -15000; } },
          { text: "Wait for the outcome", effect: () => { return 0; } }
        ]
      },
      {
        question: "A famous social media influencer offers to collaborate on a campaign.",
        options: [
          { text: "Collaborate immediately", effect: () => { adjustReputation(20); return -25000; } },
          { text: "Negotiate terms", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the collaboration", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A security issue disrupts a live event.",
        options: [
          { text: "Enhance security measures", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Issue a public apology", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Work with authorities", effect: () => { adjustReputation(5); return -5000; } }
        ]
      },
      {
        question: "A new competitor enters the market with innovative ideas.",
        options: [
          { text: "Innovate your own offerings", effect: () => { adjustReputation(15); return -25000; } },
          { text: "Focus on your strengths", effect: () => { adjustReputation(10); return 0; } },
          { text: "Acquire smaller talents", effect: () => { adjustReputation(5); return -15000; } }
        ]
      },
      {
        question: "Your artist's song is sampled without permission.",
        options: [
          { text: "Take legal action", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Negotiate a settlement", effect: () => { adjustReputation(5); return -15000; } },
          { text: "Ignore the issue", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A positive review from a major publication boosts your profile.",
        options: [
          { text: "Amplify the publicity", effect: () => { adjustReputation(15); return -10000; } },
          { text: "Reinvest in promotion", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Take a measured approach", effect: () => { return 0; } }
        ]
      },
      {
        question: "A backstage incident creates a stir before a major performance.",
        options: [
          { text: "Address it publicly", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Downplay the incident", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Offer compensation to affected fans", effect: () => { adjustReputation(10); return -15000; } }
        ]
      },
      {
        question: "Your artist receives an offer to star in a movie soundtrack.",
        options: [
          { text: "Accept the offer", effect: () => { adjustReputation(15); return -20000; } },
          { text: "Negotiate a higher fee", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A sudden policy change in streaming platforms affects your revenue.",
        options: [
          { text: "Adapt your strategy", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Diversify your income sources", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Lobby for change", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist's unique style attracts international media attention.",
        options: [
          { text: "Embrace the global spotlight", effect: () => { adjustArtistPopularity(20); adjustReputation(15); return -25000; } },
          { text: "Tailor the style for mainstream appeal", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Maintain your indie vibe", effect: () => { return 0; } }
        ]
      },
      {
        question: "A social media influencer promotes your artist:",
        options: [
          { text: "Pay for the promotion (Cost E25k)", effect: () => { adjustArtistHappiness(5); adjustStaffMorale(0); adjustArtistPopularity(30); adjustReputation(10); return -25000; } },
          { text: "Stay independent (Safe E20k)", effect: () => { adjustArtistHappiness(5); adjustStaffMorale(5); adjustArtistPopularity(3); adjustReputation(5); return 20000; } },
          { text: "Do Nothing (Risk E10k)", effect: () => { adjustArtistHappiness(-10); adjustStaffMorale(-5); adjustArtistPopularity(-3); adjustReputation(-5); return -10000; } }
        ]
      },
      {
        question: "A rival label tries to poach your top artist:",
        options: [
          { text: "Counteroffer (Cost E80k)", effect: () => { adjustArtistHappiness(10); adjustStaffMorale(0); adjustArtistPopularity(10); adjustReputation(15); return -80000; } },
          { text: "Let them go (Gain E40k)", effect: () => { adjustArtistHappiness(-10); adjustStaffMorale(5); adjustArtistPopularity(-5); adjustReputation(-10); return 40000; } },
          { text: "Do Nothing (Risk Artist Leaving)", effect: () => { adjustArtistHappiness(-15); adjustStaffMorale(-10); adjustArtistPopularity(-20); adjustReputation(-20); return 0; } }
        ]
      },
      {
        question: "Your artist receives an unexpected invitation to perform at an exclusive event.",
        options: [
          { text: "Accept the invitation (Cost E30k)", effect: () => { adjustArtistPopularity(20); adjustReputation(10); return -30000; } },
          { text: "Decline politely", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Negotiate a higher fee", effect: () => { adjustArtistPopularity(10); adjustReputation(5); return -15000; } }
        ]
      },
      {
        question: "A renowned producer offers to collaborate with your artist.",
        options: [
          { text: "Accept the collaboration (Cost E50k)", effect: () => { adjustArtistPopularity(25); adjustReputation(15); return -50000; } },
          { text: "Negotiate better terms", effect: () => { adjustArtistPopularity(15); adjustReputation(10); return -30000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A scandal involving one of your artists surfaces in the media.",
        options: [
          { text: "Issue a public apology", effect: () => { adjustArtistHappiness(-10); adjustReputation(-5); return -10000; } },
          { text: "Ignore it", effect: () => { adjustReputation(-15); return 0; } },
          { text: "Spin it positively", effect: () => { adjustArtistHappiness(5); adjustReputation(10); return -5000; } }
        ]
      },
      {
        question: "Your artist's latest single goes viral overnight.",
        options: [
          { text: "Invest in promotion", effect: () => { adjustArtistPopularity(30); adjustReputation(20); return -40000; } },
          { text: "Remain cautious", effect: () => { adjustArtistPopularity(15); adjustReputation(10); return 10000; } },
          { text: "Release a follow-up track immediately", effect: () => { adjustArtistPopularity(10); adjustReputation(5); return -20000; } }
        ]
      },
      {
        question: "A famous celebrity expresses interest in endorsing your artist.",
        options: [
          { text: "Accept the endorsement", effect: () => { adjustReputation(20); adjustArtistPopularity(25); return -35000; } },
          { text: "Negotiate for a better deal", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Refuse the offer", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A major sponsor offers to fund a world tour for your artist.",
        options: [
          { text: "Accept the sponsorship", effect: () => { adjustReputation(25); adjustArtistPopularity(30); return -60000; } },
          { text: "Negotiate for better terms", effect: () => { adjustReputation(15); return -30000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A rival label is rumored to be making a tempting offer to one of your artists.",
        options: [
          { text: "Increase their contract offer", effect: () => { adjustArtistHappiness(10); adjustReputation(10); return -40000; } },
          { text: "Offer additional benefits", effect: () => { adjustArtistHappiness(15); adjustReputation(5); return -35000; } },
          { text: "Let them go", effect: () => { adjustReputation(-10); return 20000; } }
        ]
      },
      {
        question: "Your studio equipment gets upgraded unexpectedly by a benefactor.",
        options: [
          { text: "Upgrade your marketing strategy", effect: () => { adjustReputation(10); adjustArtistHappiness(5); return 0; } },
          { text: "Invest extra in training", effect: () => { adjustArtistPopularity(10); return -15000; } },
          { text: "Keep your current plans", effect: () => { return 0; } }
        ]
      },
      {
        question: "An influential music blogger writes a rave review about your artist.",
        options: [
          { text: "Capitalize on the publicity", effect: () => { adjustReputation(15); adjustArtistPopularity(20); return 10000; } },
          { text: "Downplay it", effect: () => { adjustReputation(5); return 0; } },
          { text: "Ignore the review", effect: () => { return 0; } }
        ]
      },
      {
        question: "A financial analyst predicts a downturn in the music industry.",
        options: [
          { text: "Cut costs immediately", effect: () => { adjustReputation(-5); return 20000; } },
          { text: "Invest cautiously", effect: () => { adjustReputation(5); return -5000; } },
          { text: "Double down on promotion", effect: () => { adjustReputation(10); adjustArtistPopularity(15); return -30000; } }
        ]
      },
      {
        question: "Your artist gets a chance to perform on national TV.",
        options: [
          { text: "Invest in the appearance", effect: () => { adjustArtistPopularity(25); adjustReputation(20); return -40000; } },
          { text: "Skip the opportunity", effect: () => { adjustReputation(-10); return 0; } },
          { text: "Prepare extensively then perform", effect: () => { adjustArtistPopularity(15); adjustReputation(10); return -25000; } }
        ]
      },
      {
        question: "A new streaming service offers a lucrative deal for your artist's music.",
        options: [
          { text: "Sign the deal", effect: () => { adjustReputation(15); return 20000; } },
          { text: "Negotiate terms", effect: () => { adjustReputation(10); return 10000; } },
          { text: "Wait for better offers", effect: () => { return 0; } }
        ]
      },
      {
        question: "A local charity event requests your artist to perform for free.",
        options: [
          { text: "Donate the performance", effect: () => { adjustReputation(10); return 0; } },
          { text: "Charge a reduced fee", effect: () => { adjustReputation(5); return 10000; } },
          { text: "Decline the request", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist's social media following is growing rapidly.",
        options: [
          { text: "Launch a targeted campaign", effect: () => { adjustArtistPopularity(20); return -15000; } },
          { text: "Invest in merchandise", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Do nothing", effect: () => { return 0; } }
        ]
      },
      {
        question: "A major music festival is seeking new acts.",
        options: [
          { text: "Enter the festival", effect: () => { adjustArtistPopularity(25); adjustReputation(15); return -35000; } },
          { text: "Skip it", effect: () => { return 0; } },
          { text: "Prepare a special performance", effect: () => { adjustArtistPopularity(15); return -20000; } }
        ]
      },
      {
        question: "Your artist is invited to an international music conference.",
        options: [
          { text: "Attend and network", effect: () => { adjustReputation(20); return -30000; } },
          { text: "Send a representative", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the invitation", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A new trend in music production emerges.",
        options: [
          { text: "Invest in new technology", effect: () => { adjustReputation(15); return -40000; } },
          { text: "Ignore the trend", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Try a small pilot project", effect: () => { adjustArtistPopularity(10); return -20000; } }
        ]
      },
      {
        question: "Your artist faces harsh criticism from a respected critic.",
        options: [
          { text: "Address the criticism publicly", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Ignore the criticism", effect: () => { adjustReputation(-10); return 0; } },
          { text: "Offer a counter-review", effect: () => { adjustReputation(10); return -5000; } }
        ]
      },
      {
        question: "A successful remix of your artist's song is released by an independent DJ.",
        options: [
          { text: "Promote the remix", effect: () => { adjustArtistPopularity(15); return 10000; } },
          { text: "Create an official remix", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Downplay it", effect: () => { return 0; } }
        ]
      },
      {
        question: "Your artist wins a local music award.",
        options: [
          { text: "Celebrate with a promotion event", effect: () => { adjustReputation(20); return -30000; } },
          { text: "Reinvest in training", effect: () => { adjustArtistPopularity(10); return -15000; } },
          { text: "Ignore the award", effect: () => { return 0; } }
        ]
      },
      {
        question: "A viral challenge featuring your artist's music takes off online.",
        options: [
          { text: "Launch a related marketing campaign", effect: () => { adjustReputation(15); return -25000; } },
          { text: "Partner with influencers", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Stay neutral", effect: () => { return 0; } }
        ]
      },
      {
        question: "A sudden drop in streaming numbers concerns your team.",
        options: [
          { text: "Investigate and adjust strategy", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Blame external factors", effect: () => { adjustReputation(-10); return 0; } },
          { text: "Ignore the drop", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist is approached for a brand partnership.",
        options: [
          { text: "Secure the partnership", effect: () => { adjustReputation(20); return -30000; } },
          { text: "Negotiate terms", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A technical glitch disrupts your live performance.",
        options: [
          { text: "Apologize and reschedule", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Offer refunds", effect: () => { adjustReputation(-5); return -5000; } },
          { text: "Blame technical issues", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A competitor releases a hit single that overshadows your artist.",
        options: [
          { text: "Release a new track immediately", effect: () => { adjustArtistPopularity(20); return -30000; } },
          { text: "Rebrand your artist", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Collaborate with another talent", effect: () => { adjustReputation(15); return -25000; } }
        ]
      },
      {
        question: "Your artist's merchandise sales skyrocket unexpectedly.",
        options: [
          { text: "Expand the merchandise line", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Reinvest profits", effect: () => { adjustReputation(5); return 5000; } },
          { text: "Keep the status quo", effect: () => { return 0; } }
        ]
      },
      {
        question: "A new music award show invites your artist to perform.",
        options: [
          { text: "Accept the invitation", effect: () => { adjustReputation(15); return -20000; } },
          { text: "Negotiate a performance fee", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the invitation", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A famous DJ requests a remix of your artist's song.",
        options: [
          { text: "Approve the remix", effect: () => { adjustArtistPopularity(15); return 10000; } },
          { text: "Negotiate a fee", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Decline the request", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A new trend in retro music emerges and your artist fits the style.",
        options: [
          { text: "Shift your artist's style", effect: () => { adjustArtistPopularity(20); return -25000; } },
          { text: "Launch a retro-themed event", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Ignore the trend", effect: () => { return 0; } }
        ]
      },
      {
        question: "Your artist's manager suggests a risky publicity stunt.",
        options: [
          { text: "Go ahead with the stunt", effect: () => { adjustReputation(15); return -30000; } },
          { text: "Modify the stunt", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Reject the idea", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A social media crisis emerges around one of your songs.",
        options: [
          { text: "Issue a statement", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Remove the song", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Ignore the crisis", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A breakthrough in audio technology is announced.",
        options: [
          { text: "Invest in the new technology", effect: () => { adjustReputation(15); return -30000; } },
          { text: "Wait and see", effect: () => { return 0; } },
          { text: "Stick with traditional methods", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A major brand wants to sponsor a new music video for your artist.",
        options: [
          { text: "Accept the sponsorship", effect: () => { adjustReputation(20); return -35000; } },
          { text: "Negotiate for better terms", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Decline the offer", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "Your artist gets featured in a popular magazine.",
        options: [
          { text: "Leverage the feature for more publicity", effect: () => { adjustReputation(15); return 10000; } },
          { text: "Host a meet-and-greet event", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Ignore the feature", effect: () => { return 0; } }
        ]
      },
      {
        question: "A famous producer offers a workshop for your team.",
        options: [
          { text: "Attend the workshop", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Send key staff members", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Skip the workshop", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "Your artist's tour faces unexpected delays.",
        options: [
          { text: "Offer compensation to fans", effect: () => { adjustReputation(-5); return -10000; } },
          { text: "Reschedule promptly", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Provide regular updates", effect: () => { adjustReputation(5); return -5000; } }
        ]
      },
      {
        question: "An international crisis impacts the music industry.",
        options: [
          { text: "Adjust your marketing strategy", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Cut costs", effect: () => { adjustReputation(-5); return 15000; } },
          { text: "Delay major projects", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A renowned music critic offers a mixed review of your artist.",
        options: [
          { text: "Respond constructively", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Ignore the review", effect: () => { adjustReputation(-5); return 0; } },
          { text: "Launch a counter campaign", effect: () => { adjustReputation(10); return -15000; } }
        ]
      },
      {
        question: "Your artist's collaboration with a famous musician goes viral.",
        options: [
          { text: "Promote the collaboration", effect: () => { adjustArtistPopularity(20); return -25000; } },
          { text: "Negotiate a follow-up project", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Let it fade", effect: () => { return 0; } }
        ]
      },
      {
        question: "A surprise donation boosts your cash reserves.",
        options: [
          { text: "Invest in growth", effect: () => { adjustReputation(10); return 0; } },
          { text: "Save for a rainy day", effect: () => { return 0; } },
          { text: "Donate to charity", effect: () => { adjustReputation(-5); return -5000; } }
        ]
      },
      {
        question: "Your team discovers a hidden talent in the local scene.",
        options: [
          { text: "Sign the new talent immediately", effect: () => { adjustReputation(15); return -25000; } },
          { text: "Develop them slowly", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Pass on the opportunity", effect: () => { adjustReputation(-5); return 0; } }
        ]
      },
      {
        question: "A surge in ticket prices boosts revenue but risks alienating fans.",
        options: [
          { text: "Reevaluate your pricing strategy", effect: () => { adjustReputation(5); return 0; } },
          { text: "Invest in fan engagement", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Keep the prices unchanged", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "Your artist is nominated for an international award.",
        options: [
          { text: "Increase promotion", effect: () => { adjustReputation(15); return -20000; } },
          { text: "Invest in further training", effect: () => { adjustArtistPopularity(10); return -15000; } },
          { text: "Wait for the outcome", effect: () => { return 0; } }
        ]
      },
      {
        question: "A famous social media influencer offers to collaborate on a campaign.",
        options: [
          { text: "Collaborate immediately", effect: () => { adjustReputation(20); return -25000; } },
          { text: "Negotiate terms", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Decline the collaboration", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A security issue disrupts a live event.",
        options: [
          { text: "Enhance security measures", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Issue a public apology", effect: () => { adjustReputation(5); return -10000; } },
          { text: "Work with authorities", effect: () => { adjustReputation(5); return -5000; } }
        ]
      },
      {
        question: "A new competitor enters the market with innovative ideas.",
        options: [
          { text: "Innovate your own offerings", effect: () => { adjustReputation(15); return -25000; } },
          { text: "Focus on your strengths", effect: () => { adjustReputation(10); return 0; } },
          { text: "Acquire smaller talents", effect: () => { adjustReputation(5); return -15000; } }
        ]
      },
      {
        question: "Your artist's song is sampled without permission.",
        options: [
          { text: "Take legal action", effect: () => { adjustReputation(10); return -20000; } },
          { text: "Negotiate a settlement", effect: () => { adjustReputation(5); return -15000; } },
          { text: "Ignore the issue", effect: () => { adjustReputation(-10); return 0; } }
        ]
      },
      {
        question: "A positive review from a major publication boosts your profile.",
        options: [
          { text: "Amplify the publicity", effect: () => { adjustReputation(15); return -10000; } },
          { text: "Reinvest in promotion", effect: () => { adjustReputation(10); return -15000; } },
          { text: "Take a measured approach", effect: () => { return 0; } }
        ]
      },
      {
    question: "A positive review from a major publication boosts your profile.",
    options: [
      { text: "Amplify the publicity", effect: () => { adjustReputation(15); return -10000; } },
      { text: "Reinvest in promotion", effect: () => { adjustReputation(10); return -15000; } },
      { text: "Take a measured approach", effect: () => { return 0; } }
    ]
  },
  {
    question: "A backstage incident creates a stir before a major performance.",
    options: [
      { text: "Address it publicly", effect: () => { adjustReputation(5); return -10000; } },
      { text: "Downplay the incident", effect: () => { adjustReputation(-5); return 0; } },
      { text: "Offer compensation to affected fans", effect: () => { adjustReputation(10); return -15000; } }
    ]
  },
  {
    question: "A viral trend emerges that perfectly fits your brand.",
    options: [
      { text: "Capitalize on the trend", effect: () => { adjustReputation(10); return -12000; } },
      { text: "Observe and adapt later", effect: () => { adjustReputation(5); return 0; } },
      { text: "Ignore the trend", effect: () => { adjustReputation(-5); return 0; } }
    ]
  },
  {
    question: "A competitor releases a diss track aimed at you.",
    options: [
      { text: "Fire back with a response", effect: () => { adjustReputation(8); return -8000; } },
      { text: "Take the high road", effect: () => { adjustReputation(5); return 0; } },
      { text: "Ignore and focus on your music", effect: () => { adjustReputation(3); return 0; } }
    ]
  },
  {
    question: "A major sponsor offers a deal that clashes with your image.",
    options: [
      { text: "Accept for financial gain", effect: () => { adjustReputation(-10); return 50000; } },
      { text: "Negotiate for better alignment", effect: () => { adjustReputation(5); return 20000; } },
      { text: "Reject to protect your brand", effect: () => { adjustReputation(10); return 0; } }
    ]
  },
  {
    question: "Your latest album leaks before its official release.",
    options: [
      { text: "Drop the album early", effect: () => { adjustReputation(5); return -5000; } },
      { text: "Take legal action", effect: () => { adjustReputation(-5); return -15000; } },
      { text: "Use the hype to your advantage", effect: () => { adjustReputation(10); return -10000; } }
    ]
  },
  {
    question: "A charity organization asks you to perform for free.",
    options: [
      { text: "Perform and promote it", effect: () => { adjustReputation(15); return -20000; } },
      { text: "Donate instead", effect: () => { adjustReputation(10); return -10000; } },
      { text: "Politely decline", effect: () => { adjustReputation(-5); return 0; } }
    ]
  },
  {
    question: "A high-profile artist offers to collaborate on a track.",
    options: [
      { text: "Accept eagerly", effect: () => { adjustReputation(20); return -25000; } },
      { text: "Negotiate terms", effect: () => { adjustReputation(15); return -15000; } },
      { text: "Decline to maintain artistic control", effect: () => { adjustReputation(-5); return 0; } }
    ]
  },
  {
    question: "Your social media manager posts something controversial.",
    options: [
      { text: "Apologize and take responsibility", effect: () => { adjustReputation(5); return -10000; } },
      { text: "Blame the manager and fire them", effect: () => { adjustReputation(-10); return 0; } },
      { text: "Ignore and move on", effect: () => { adjustReputation(-5); return 0; } }
    ]
  }
      

    ];

    // Game state initialization
    function initializeGameState() {
      gameState = {
        cash: 50000,
        day: 0,
        reputation: 0,
        availableScenarios: [...allScenarios],
        currentScenario: null,
        artists: [],
        staff: [{ role: "Manager", morale: 50 }, { role: "Publicist", morale: 50 }],
        activeDeals: [],
        equipment: []
      };
      updateReputationDisplay();
    }

    function adjustReputation(amount) {
      gameState.reputation = Math.max(0, Math.min(100, gameState.reputation + amount));
      updateReputationDisplay();
    }

    function getCurrentReputationLevel() {
      let level = 1;
      for (const [key, value] of Object.entries({
        1: { min: 0 },
        2: { min: 500000 },
        3: { min: 1000000 },
        4: { min: 1500000 },
        5: { min: 2000000 }
      })) {
        if (gameState.cash >= value.min) level = parseInt(key);
      }
      return level;
    }

    function updateReputationDisplay() {
      const level = getCurrentReputationLevel();
      const levelElement = document.getElementById('reputation-level');
      levelElement.textContent = ["Basic", "Rising", "Notable", "Celebrated", "Legendary"][level - 1];
      document.getElementById('reputation-points').textContent = Math.floor(gameState.cash / 500000 * 100);
      levelElement.classList.remove(
          'reputation-level-basic',
          'reputation-level-rising',
          'reputation-level-notable',
          'reputation-level-celebrated',
          'reputation-level-legendary'
      );
      levelElement.classList.add(`reputation-level-${["basic","rising","notable","celebrated","legendary"][level - 1]}`);
    }

    // Append new messages to the log container
    function addMessage(message) {
      const container = document.getElementById('log-container');
      container.innerHTML += `<div>${message}</div>`;
      container.scrollTop = container.scrollHeight;
    }

    function updateGameDisplay() {
      document.getElementById('cash').textContent = `E${gameState.cash.toLocaleString()}`;
      document.getElementById('day').textContent = gameState.day;
      document.getElementById('artist-roster').innerHTML = gameState.artists.map(artist => `
        <div class="artist-card">
          <strong>${artist.name}</strong> (${artist.genre})<br>
          üìà Popularity: ${artist.popularity}<br>
          üòä Happiness: ${artist.happiness}%<br>
          üìÖ Contract: ${artist.contractDays} days
        </div>
      `).join('');
      document.getElementById('staff-list').innerHTML = gameState.staff.map(staff => `
        <div class="staff-card">
          <strong>${staff.role}</strong><br>
          üòä Morale: ${staff.morale}%
        </div>
      `).join('');
      document.getElementById('inventory-list').innerHTML = [
        ...gameState.equipment.map(item => `
          <div class="market-item">
            <strong>üéõÔ∏è ${item.name}</strong><br>
            ‚≠ê Quality: +${item.quality}<br>
            üîß Maintenance: E${item.maintenance}/day
          </div>
        `),
        ...gameState.activeDeals.map(deal => `
          <div class="market-item">
            <strong>üìù ${deal.name}</strong><br>
            üí∞ Revenue: E${deal.revenue}/day<br>
            ‚è±Ô∏è Days Left: ${deal.daysLeft}
          </div>
        `)
      ].join('');
    }

    function adjustArtistHappiness(amount) {
      gameState.artists.forEach(artist => {
        artist.happiness = Math.max(0, Math.min(100, artist.happiness + amount));
      });
    }

    function adjustStaffMorale(amount) {
      gameState.staff.forEach(staff => {
        staff.morale = Math.max(0, Math.min(100, staff.morale + amount));
      });
    }

    function adjustArtistPopularity(amount) {
      gameState.artists.forEach(artist => {
        artist.popularity = Math.max(0, artist.popularity + amount);
      });
    }

    const marketData = {
      shows: [
        { name: "Local Club Show", cost: 5000, popularity: 5, duration: 1 },
        { name: "Radio Station Performance", cost: 15000, popularity: 15, duration: 2 },
        { name: "Music Festival Slot", cost: 50000, popularity: 30, duration: 3 },
        { name: "National TV Show", cost: 75000, popularity: 40, duration: 4 },
        { name: "International Tour", cost: 100000, popularity: 50, duration: 5 },
        { name: "Charity Concert", cost: 20000, popularity: 20, duration: 2 },
        { name: "Private Event", cost: 30000, popularity: 25, duration: 3 }
      ],
      deals: [
        { name: "Merchandise Deal", cost: 20000, revenue: 5000, duration: 5 },
        { name: "Brand Sponsorship", cost: 50000, revenue: 15000, duration: 7 },
        { name: "Distribution Deal", cost: 100000, revenue: 25000, duration: 10 },
        { name: "Streaming Partnership", cost: 80000, revenue: 20000, duration: 8 },
        { name: "Endorsement Contract", cost: 60000, revenue: 18000, duration: 6 }
      ],
      artists: [
  { name: "Rising Star", genre: "Afropop", cost: 30000, popularity: 35, contractCost: 5000 },
  { name: "Underground Talent", genre: "Hip-hop", cost: 25000, popularity: 30, contractCost: 4000 },
  { name: "Traditional Artist", genre: "Sibhaca", cost: 40000, popularity: 45, contractCost: 6000 },
  { name: "Pop Sensation", genre: "Pop", cost: 85000, popularity: 90, contractCost: 7000 },
  { name: "Jazz Virtuoso", genre: "Jazz", cost: 35000, popularity: 40, contractCost: 5500 },
  { name: "Lihlombe 12", genre: "sibhaca", cost: 35000, popularity: 25, contractCost: 6000 },
  { name: "Mbabane Beats", genre: "hiphop", cost: 35000, popularity: 40, contractCost: 6000 },
  { name: "Electric Echo", genre: "Electronic", cost: 60000, popularity: 55, contractCost: 6500 },
  { name: "Soul Serenade", genre: "Soul", cost: 32000, popularity: 38, contractCost: 5200 },
  { name: "Rock Legend", genre: "Rock", cost: 70000, popularity: 80, contractCost: 7500 },
  { name: "Country Roads", genre: "Country", cost: 28000, popularity: 32, contractCost: 4500 },
  { name: "Rhythm Rebellion", genre: "Reggae", cost: 40000, popularity: 50, contractCost: 5800 },
  { name: "Indie Icon", genre: "Indie", cost: 45000, popularity: 60, contractCost: 6200 },
  { name: "R&B Royalty", genre: "R&B", cost: 50000, popularity: 70, contractCost: 6800 },
  { name: "Latin Flame", genre: "Latin", cost: 42000, popularity: 48, contractCost: 5600 },
  { name: "Alternative Visionary", genre: "Alternative", cost: 37000, popularity: 42, contractCost: 5300 },
  { name: "Folk Maestro", genre: "Folk", cost: 30000, popularity: 35, contractCost: 4900 }
],
equipment: [
  { name: "Studio Microphone", cost: 8000, quality: 10, maintenance: 500 },
  { name: "Mixing Console", cost: 25000, quality: 20, maintenance: 1000 },
  { name: "Recording Suite", cost: 60000, quality: 35, maintenance: 2000 },
  { name: "Live Sound System", cost: 40000, quality: 25, maintenance: 1500 },
  { name: "Lighting Rig", cost: 15000, quality: 15, maintenance: 700 },
  { name: "Guitar Amp", cost: 12000, quality: 18, maintenance: 600 },
  { name: "Drum Kit", cost: 18000, quality: 22, maintenance: 800 },
  { name: "Keyboard Synthesizer", cost: 22000, quality: 28, maintenance: 900 },
  { name: "Bass Amplifier", cost: 10000, quality: 16, maintenance: 550 },
  { name: "Acoustic Panels", cost: 5000, quality: 12, maintenance: 300 },
  { name: "DJ Turntable", cost: 15000, quality: 20, maintenance: 700 },
  { name: "Sound Mixer", cost: 20000, quality: 23, maintenance: 850 },
  { name: "Wireless Microphone", cost: 9000, quality: 14, maintenance: 450 },
  { name: "Projector Screen", cost: 7000, quality: 10, maintenance: 400 },
  { name: "Digital Audio Workstation", cost: 45000, quality: 30, maintenance: 1200 }
],
training: [
  { name: "Vocal Workshop", cost: 12000, skillBoost: 15, duration: 3 },
  { name: "Dance Training", cost: 18000, skillBoost: 20, duration: 5 },
  { name: "Production Course", cost: 30000, skillBoost: 25, duration: 7 },
  { name: "Songwriting Masterclass", cost: 25000, skillBoost: 22, duration: 6 },
  { name: "Stage Presence Seminar", cost: 20000, skillBoost: 18, duration: 4 },
  { name: "Production Course", cost: 30000, skillBoost: 25, duration: 7 },
  { name: "Advanced Production Course", cost: 50000, skillBoost: 30, duration: 10 },
  { name: "Instrument Mastery Program", cost: 22000, skillBoost: 19, duration: 4 },
  { name: "Advanced Vocal Techniques", cost: 14000, skillBoost: 17, duration: 3 },
  { name: "Music Theory Intensive", cost: 16000, skillBoost: 20, duration: 5 },
  { name: "Beat Making Bootcamp", cost: 28000, skillBoost: 23, duration: 6 },
  { name: "Improvisation Lab", cost: 13000, skillBoost: 16, duration: 3 },
  { name: "Sound Engineering Seminar", cost: 32000, skillBoost: 27, duration: 8 },
  { name: "Digital Music Production", cost: 40000, skillBoost: 30, duration: 9 },
  { name: "Live Performance Coaching", cost: 26000, skillBoost: 21, duration: 5 },
  { name: "Song Arrangement Workshop", cost: 21000, skillBoost: 19, duration: 4 },
  { name: "Creative Collaboration Retreat", cost: 35000, skillBoost: 28, duration: 7 }
],
marketing: [
  { name: "Social Media Campaign", cost: 15000, exposure: 20, duration: 5 },
  { name: "Radio Advertisement", cost: 25000, exposure: 30, duration: 7 },
  { name: "TV Commercial", cost: 50000, exposure: 50, duration: 10 },
  { name: "Billboard Promotion", cost: 35000, exposure: 40, duration: 8 },
  { name: "Influencer Collaboration", cost: 20000, exposure: 25, duration: 6 },
  { name: "TV Commercial", cost: 50000, exposure: 50, duration: 10 },
  { name: "International Billboard Campaign", cost: 120000, exposure: 80, duration: 15 },
  { name: "Press Release Distribution", cost: 18000, exposure: 22, duration: 5 },
  { name: "Music Video Promotion", cost: 30000, exposure: 35, duration: 7 },
  { name: "Concert Sponsorship", cost: 70000, exposure: 60, duration: 12 },
  { name: "Streaming Platform Ads", cost: 28000, exposure: 33, duration: 6 },
  { name: "Merchandising Campaign", cost: 40000, exposure: 45, duration: 9 },
  { name: "Event Partnerships", cost: 55000, exposure: 55, duration: 11 },
  { name: "Street Team Marketing", cost: 12000, exposure: 18, duration: 4 },
  { name: "Music Festival Sponsorship", cost: 90000, exposure: 75, duration: 14 },
  { name: "Podcast Advertising", cost: 22000, exposure: 28, duration: 6 },
  { name: "Magazine Feature", cost: 26000, exposure: 30, duration: 7 }
]
    };

    function updateMarketplaces() {
      updateShowsMarket();
      updateDealsMarket();
      updateArtistsMarket();
      updateEquipmentMarket();
      updateTrainingMarket();
      updateMarketingMarket();
    }

    function updateShowsMarket() {
      document.getElementById('shows-market').innerHTML = marketData.shows.map(show => `
        <div class="market-item" onclick="bookShow('${show.name}', ${show.cost}, ${show.popularity}, ${show.duration})">
          <strong>${show.name}</strong><br>
          üí∞ Cost: E${show.cost.toLocaleString()}<br>
          üìà Popularity Boost: +${show.popularity}<br>
          ‚è±Ô∏è Duration: ${show.duration} day${show.duration > 1 ? 's' : ''}
        </div>
      `).join('');
    }

    function updateDealsMarket() {
      document.getElementById('deals-market').innerHTML = marketData.deals.map(deal => `
        <div class="market-item" onclick="acceptDeal('${deal.name}', ${deal.cost}, ${deal.revenue}, ${deal.duration})">
          <strong>${deal.name}</strong><br>
          üí∞ Initial Cost: E${deal.cost.toLocaleString()}<br>
          üíµ Daily Revenue: E${deal.revenue.toLocaleString()}<br>
          ‚è±Ô∏è Duration: ${deal.duration} days
        </div>
      `).join('');
    }

    function updateArtistsMarket() {
      document.getElementById('artists-market').innerHTML = marketData.artists.map(artist => `
        <div class="market-item" onclick="signArtist('${artist.name}', '${artist.genre}', ${artist.cost}, ${artist.popularity}, ${artist.contractCost})">
          <strong>${artist.name}</strong><br>
          üéµ Genre: ${artist.genre}<br>
          üí∞ Signing Cost: E${artist.cost.toLocaleString()}<br>
          üìà Popularity: ${artist.popularity}<br>
          üìÖ Contract: 30 days
        </div>
      `).join('');
    }

    function updateEquipmentMarket() {
      document.getElementById('equipment-market').innerHTML = marketData.equipment.map(item => `
        <div class="market-item" onclick="buyEquipment('${item.name}', ${item.cost}, ${item.quality}, ${item.maintenance})">
          <strong>${item.name}</strong><br>
          üí∞ Cost: E${item.cost.toLocaleString()}<br>
          ‚≠ê Quality: +${item.quality}<br>
          üîß Maintenance: E${item.maintenance}/day
        </div>
      `).join('');
    }

    function updateTrainingMarket() {
      document.getElementById('training-market').innerHTML = marketData.training.map(course => `
        <div class="market-item" onclick="bookTraining('${course.name}', ${course.cost}, ${course.skillBoost}, ${course.duration})">
          <strong>${course.name}</strong><br>
          üí∞ Cost: E${course.cost.toLocaleString()}<br>
          üìà Skill Boost: +${course.skillBoost}<br>
          ‚è±Ô∏è Duration: ${course.duration} days
        </div>
      `).join('');
    }

    function updateMarketingMarket() {
      document.getElementById('marketing-market').innerHTML = marketData.marketing.map(campaign => `
        <div class="market-item" onclick="launchCampaign('${campaign.name}', ${campaign.cost}, ${campaign.exposure}, ${campaign.duration})">
          <strong>${campaign.name}</strong><br>
          üí∞ Cost: E${campaign.cost.toLocaleString()}<br>
          üéØ Exposure: +${campaign.exposure}<br>
          ‚è±Ô∏è Duration: ${campaign.duration} days
        </div>
      `).join('');
    }

    function checkBankruptcy() {
      if (gameState.cash < 0) {
        addMessage("üí• Game Over: You've gone bankrupt!");
        document.querySelectorAll('.market-item').forEach(item => item.onclick = null);
        document.querySelectorAll('.decision-btn').forEach(btn => btn.onclick = null);
        showRetryButton();
        return true;
      }
      return false;
    }

    function showRetryButton() {
      const log = document.getElementById('log-container');
      const retryButton = document.createElement('button');
      retryButton.textContent = "Retry";
      retryButton.className = "new-game-btn";
      retryButton.onclick = startNewGame;
      log.innerHTML += `<div>üí• Game Over: You've gone bankrupt!</div>`;
      log.appendChild(retryButton);
      log.scrollTop = log.scrollHeight;
    }

    // Global startNewGame so it‚Äôs accessible by retry buttons
    function startNewGame() {
      initializeGameState();
      startNewDay();
      updateMarketplaces();
      const retryBtn = document.querySelector('.new-game-btn');
      if (retryBtn) { retryBtn.remove(); }
    }

    function buyEquipment(name, cost, quality, maintenance) {
      if (gameState.cash < cost) {
        addMessage(`‚ùå Not enough cash to buy ${name}`);
        return;
      }
      gameState.cash -= cost;
      if (checkBankruptcy()) return;
      gameState.equipment.push({ name, quality, maintenance });
      adjustArtistHappiness(quality / 2);
      adjustReputation(quality / 3);
      addMessage(`üéõÔ∏è Purchased ${name} for E${cost.toLocaleString()}`);
      updateGameDisplay();
    }

    function bookTraining(name, cost, skillBoost, duration) {
      if (gameState.cash < cost) {
        addMessage(`‚ùå Not enough cash for ${name}`);
        return;
      }
      gameState.cash -= cost;
      if (checkBankruptcy()) return;
      adjustArtistPopularity(skillBoost);
      adjustStaffMorale(skillBoost / 2);
      addMessage(`üìö Booked ${name} for E${cost.toLocaleString()}`);
      updateGameDisplay();
    }

    function launchCampaign(name, cost, exposure, duration) {
      if (gameState.cash < cost) {
        addMessage(`‚ùå Not enough cash for ${name}`);
        return;
      }
      gameState.cash -= cost;
      if (checkBankruptcy()) return;
      adjustArtistPopularity(exposure);
      adjustReputation(exposure / 2);
      addMessage(`üì£ Launched ${name} for E${cost.toLocaleString()}`);
      updateGameDisplay();
    }

    function bookShow(name, cost, popularity, duration) {
      if (gameState.cash < cost) {
        addMessage(`‚ùå Not enough cash to book ${name}`);
        return;
      }
      gameState.cash -= cost;
      if (checkBankruptcy()) return;
      adjustArtistPopularity(popularity);
      adjustReputation(popularity / 2);
      addMessage(`üé≠ Booked ${name} for E${cost.toLocaleString()}`);
      updateGameDisplay();
    }

    function acceptDeal(name, cost, revenue, duration) {
      if (gameState.cash < cost) {
        addMessage(`‚ùå Not enough cash for ${name}`);
        return;
      }
      gameState.cash -= cost;
      if (checkBankruptcy()) return;
      gameState.activeDeals.push({ name, revenue, daysLeft: duration });
      adjustReputation(10);
      addMessage(`üìù Accepted ${name} for E${cost.toLocaleString()}`);
      updateGameDisplay();
    }

    function signArtist(name, genre, cost, popularity, contractCost) {
      if (gameState.cash < cost) {
        addMessage(`‚ùå Not enough cash to sign ${name}`);
        return;
      }
      gameState.cash -= cost;
      gameState.artists.push({
        name,
        genre,
        popularity,
        happiness: 100,
        contractDays: 30
      });
      adjustReputation(15);
      addMessage(`üé§ Signed ${name} for E${cost.toLocaleString()}`);
      updateGameDisplay();
    }

    // New function to display action summary with rating, cash flow, and reputation effect.
    function showActionSummary(cashEffect, repChange) {
      let rating;
      if (cashEffect > 0 && repChange > 0) {
          rating = "Excellent decision!";
      } else if (cashEffect > 0 || repChange > 0) {
          rating = "Good decision!";
      } else if (cashEffect < 0 && repChange < 0) {
          rating = "Poor decision!";
      } else {
          rating = "Mixed results.";
      }
      let summary = `Action Summary: ${rating} Cash ${cashEffect >= 0 ? "inflow" : "outflow"}: E${Math.abs(cashEffect).toLocaleString()}, Reputation change: ${repChange >= 0 ? "+" : ""}${repChange}.`;
      addMessage(summary);
    }

    // Select a new scenario from availableScenarios ensuring no repeats
    function selectNewScenario() {
      if (gameState.availableScenarios.length === 0) {
        // Reset if all scenarios have been used
        gameState.availableScenarios = [...allScenarios];
      }
      const randomIndex = Math.floor(Math.random() * gameState.availableScenarios.length);
      gameState.currentScenario = gameState.availableScenarios.splice(randomIndex, 1)[0];
    }

    // Start a new day: process revenue, update contracts, and pick a new scenario
    function startNewDay() {
      if (gameState.day > 50) {
        endGame();
        return;
      }
      
      let dailyRevenue = 0;
      let maintenanceCost = 0;
      
      gameState.equipment.forEach(item => {
        maintenanceCost += item.maintenance;
      });
      
      gameState.activeDeals = gameState.activeDeals.filter(deal => {
        deal.daysLeft--;
        if (deal.daysLeft > 0) {
          dailyRevenue += deal.revenue;
          return true;
        }
        addMessage(`üìù Deal expired: ${deal.name} has been removed`);
        return false;
      });
      
      gameState.artists.forEach(artist => {
        const artistRevenue = Math.floor(artist.popularity * 1000 * (1 + gameState.reputation / 100));
        dailyRevenue += artistRevenue;
        addMessage(`üí´ ${artist.name} generated E${artistRevenue.toLocaleString()} today`);
      });
      
      if (maintenanceCost > 0) {
        gameState.cash -= maintenanceCost;
        addMessage(`üîß Daily equipment maintenance cost: E${maintenanceCost.toLocaleString()}`);
      }
      
      if (dailyRevenue > 0) {
        gameState.cash += dailyRevenue;
        addMessage(`üí∞ Total daily revenue: E${dailyRevenue.toLocaleString()}`);
        adjustReputation(Math.floor(dailyRevenue / 10000));
      }
      
      gameState.artists = gameState.artists.filter(artist => {
        artist.contractDays--;
        const totalEquipmentQuality = gameState.equipment.reduce((sum, item) => sum + item.quality, 0);
        const happinessBoost = Math.floor(totalEquipmentQuality / 10);
        artist.happiness = Math.min(100, artist.happiness + happinessBoost);
        
        if (artist.contractDays <= 5 && artist.contractDays > 0) {
          const renewalCost = Math.floor(artist.popularity * 1000);
          addMessage(`‚ö†Ô∏è ${artist.name}'s contract expires in ${artist.contractDays} day${artist.contractDays > 1 ? 's' : ''}!`);
          addMessage(`üíº Renewal cost will be E${renewalCost.toLocaleString()}`);
          return true;
        } else if (artist.contractDays === 0) {
          const renewalCost = Math.floor(artist.popularity * 1000);
          if (gameState.cash >= renewalCost && artist.happiness >= 70) {
            gameState.cash -= renewalCost;
            artist.contractDays = 30;
            addMessage(`‚ú® ${artist.name} renewed their contract for E${renewalCost.toLocaleString()}!`);
            adjustReputation(10);
            return true;
          } else {
            addMessage(`üé§ Contract expired: ${artist.name} has left the label`);
            adjustReputation(-5);
            return false;
          }
        }
        return true;
      });
      
      gameState.day++;
      selectNewScenario();
      showNextScenario();
      updateGameDisplay();
      updateMarketplaces();
      
      if (gameState.artists.length === 0) {
        addMessage("‚ö†Ô∏è Warning: You have no artists! Sign new talent quickly!");
      }
      checkBankruptcy();
    }

    // Display the current scenario prompt in the dedicated container.
    function showNextScenario() {
      const scenario = gameState.currentScenario;
      if (!scenario) return;
      const html = `
        <div class="scenario-box">
          <h3>${scenario.question}</h3>
          ${scenario.options.map((opt, index) => `
            <button class="decision-btn" onclick="handleDecision(${index})">
              ${opt.text}
            </button>
          `).join('')}
        </div>
      `;
      document.getElementById('scenario-container').innerHTML = html;
    }

    function handleDecision(optionIndex) {
      const scenario = gameState.currentScenario;
      if (!scenario) return;
      let repBefore = gameState.reputation;
      const cashEffect = scenario.options[optionIndex].effect();
      let repAfter = gameState.reputation;
      let repChange = repAfter - repBefore;
      
      gameState.cash += cashEffect;
      if (checkBankruptcy()) return;
      
      addMessage(`Decision made: ${scenario.options[optionIndex].text}`);
      if (cashEffect > 0) {
        addMessage(`üí∞ Gained E${Math.abs(cashEffect).toLocaleString()}`);
      } else if (cashEffect < 0) {
        addMessage(`üí∏ Spent E${Math.abs(cashEffect).toLocaleString()}`);
      }
      
      // Display the action summary
      showActionSummary(cashEffect, repChange);
      
      if (gameState.day > 50) {
        endGame();
      } else {
        startNewDay();
      }
      updateGameDisplay();
    }

    function endGame() {
      addMessage("üèÅ Game Over: You've reached the end of 50 days!");
      addMessage(`Final Cash: E${gameState.cash.toLocaleString()}`);
      addMessage(`Final Reputation: ${gameState.reputation}`);
      document.querySelectorAll('.market-item').forEach(item => item.onclick = null);
      document.querySelectorAll('.decision-btn').forEach(btn => btn.onclick = null);
      showRetryButton();
    }

    document.addEventListener('DOMContentLoaded', function() {
      initializeGameState();
      startNewDay();
      updateMarketplaces();
    });
  </script>
</body>
</html>
